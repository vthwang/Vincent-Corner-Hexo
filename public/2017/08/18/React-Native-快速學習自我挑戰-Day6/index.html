<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    

    
    <title>React Native 快速學習自我挑戰 Day6 | Vincent&#39;s Corner</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="React-Native" />
    
    <meta name="description" content="深入了解 Redux Redux 的基礎  建立新專案 react-native init tech_stack JSPlaygrounds Reducer：一個可以回傳一些資料的 function Action：一個告訴 reducer 如何改變它的資料的物件 State：給 app 使用的資料  更多 Redux  簡易 Redux 範例  123456789101112131415161">
<meta property="og:type" content="article">
<meta property="og:title" content="React Native 快速學習自我挑戰 Day6">
<meta property="og:url" content="https://vincent.fishboneapps.com/2017/08/18/React-Native-%E5%BF%AB%E9%80%9F%E5%AD%B8%E7%BF%92%E8%87%AA%E6%88%91%E6%8C%91%E6%88%B0-Day6/index.html">
<meta property="og:site_name" content="Vincent&#39;s Corner">
<meta property="og:description" content="深入了解 Redux Redux 的基礎  建立新專案 react-native init tech_stack JSPlaygrounds Reducer：一個可以回傳一些資料的 function Action：一個告訴 reducer 如何改變它的資料的物件 State：給 app 使用的資料  更多 Redux  簡易 Redux 範例  123456789101112131415161">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://vincent.fishboneapps.com/images/learning/reactNative/reactnativeday6.png">
<meta property="article:published_time" content="2017-08-18T11:54:13.000Z">
<meta property="article:modified_time" content="2022-07-27T01:55:50.067Z">
<meta property="article:author" content="Vincent Ting Hsuan Wang">
<meta property="article:tag" content="React-Native">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://vincent.fishboneapps.com/images/learning/reactNative/reactnativeday6.png">
<meta property="fb:admins" content="VincentTingSyuanWang">
<meta property="fb:app_id" content="1958612367696881">
    

    

    
        <link rel="icon" href="/images/vincent.ico" />
    

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/libs/titillium-web/styles.css">

    
<link rel="stylesheet" href="/libs/source-code-pro/styles.css">


    
<link rel="stylesheet" href="/css/style.css">


    
<script src="/libs/jquery/3.5.0/jquery.min.js"></script>

    
    
        
<link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">

    
    
        
<link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">

    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-84065024-1', 'auto');
ga('send', 'pageview');

</script>

    
    
    


<meta name="generator" content="Hexo 6.2.0"></head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/English-Learning/">English Learning</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Reading-Note/">Reading Note</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Skill-Share/">Skill Share</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Study-Note/">Study Note</a></li></ul>
                                    
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/quotes">Quotes</a>
                                </li>
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>


</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Study-Note/">Study Note</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-React-Native-快速學習自我挑戰-Day6" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        React Native 快速學習自我挑戰 Day6
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
      <i class="fa fa-calendar"></i>
      <a href="/2017/08/18/React-Native-%E5%BF%AB%E9%80%9F%E5%AD%B8%E7%BF%92%E8%87%AA%E6%88%91%E6%8C%91%E6%88%B0-Day6/" class="article-date">
         <time datetime="2017-08-18T11:54:13.000Z" itemprop="datePublished">2017-08-18</time>
      </a>
    </div>


                

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link-link" href="/tags/React-Native/" rel="tag">React-Native</a>
    </div>

                

                
   <div class="article-counter">
      <i class="fa fa-file-word-o"></i>
      <span class="post-count-item-text">Symbols count in article: </span>
      <span class="post-count">2k</span>
      <i class="fa fa-clock-o"></i>
      <span class="post-time-item-text">Reading time: </span>
      <span class="post-count">10 mins. </span>
   </div>


            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            

            

            

            <img src="/images/learning/reactNative/reactnativeday6.png">
<hr>
<h3 id="深入了解-Redux">深入了解 Redux</h3>
<h4 id="Redux-的基礎">Redux 的基礎</h4>
<ol>
<li>建立新專案<br>
<code>react-native init tech_stack</code></li>
<li><a target="_blank" rel="noopener" href="https://stephengrider.github.io/JSPlaygrounds/">JSPlaygrounds</a></li>
<li>Reducer：一個可以回傳一些資料的 function</li>
<li>Action：一個告訴 reducer 如何改變它的資料的物件</li>
<li>State：給 app 使用的資料</li>
</ol>
<h4 id="更多-Redux">更多 Redux</h4>
<ol>
<li>簡易 Redux 範例</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">const reducer = (state = [], action) =&gt; &#123;</span><br><span class="line">	if (action.type === &#x27;split_string&#x27;) &#123;</span><br><span class="line">    return action.payload.split(&#x27;&#x27;);</span><br><span class="line">  &#125; else if (action.type === &#x27;add_character&#x27;) &#123;</span><br><span class="line">  	return [ ...state, action.payload ];</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  return state;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(reducer);</span><br><span class="line"></span><br><span class="line">store.getState();</span><br><span class="line"></span><br><span class="line">const action = &#123;</span><br><span class="line">  type: &#x27;split_string&#x27;,</span><br><span class="line">  payload: &#x27;asdf&#x27;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">store.dispatch(action);</span><br><span class="line"></span><br><span class="line">store.getState();</span><br><span class="line"></span><br><span class="line">const action2 = &#123;</span><br><span class="line">  type: &#x27;add_character&#x27;,</span><br><span class="line">  payload: &#x27;d&#x27;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">store.dispatch(action2);</span><br><span class="line">store.getState();</span><br></pre></td></tr></table></figure>
<h4 id="Application-樣板">Application 樣板</h4>
<ol>
<li>安裝 redux<br>
<code>npm install --save redux react-redux</code></li>
<li>新增 src/app.js</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;;</span><br><span class="line">import &#123; View &#125; from &#x27;react-native&#x27;;</span><br><span class="line"></span><br><span class="line">const App = () =&gt; &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;View /&gt;</span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>刪除 ios.index.js 的所有內容，用以下取代</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import &#123; AppRegistry &#125; from &#x27;react-native&#x27;;</span><br><span class="line">import App from &#x27;./src/app&#x27;;</span><br><span class="line"></span><br><span class="line">AppRegistry.registerComponent(&#x27;tech_stack&#x27;, () =&gt; App );</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>在 app.js 引入函式庫</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Provider &#125; from &#x27;react-redux&#x27;;</span><br><span class="line">import &#123; createStore &#125; from &#x27;redux&#x27;;</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>新增 src/reducers/index.js</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import &#123; combineReducers &#125; from &#x27;redux&#x27;;</span><br><span class="line"></span><br><span class="line">export default combineReducers(&#123;</span><br><span class="line">    libraries: () =&gt; []</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>引入 reducers，將 reducers 放到 createStore 裡面</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import reducers from &#x27;./reducers&#x27;;</span><br><span class="line"></span><br><span class="line">const App = () =&gt; &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;Provider store=&#123;createStore(reducers)&#125;&gt;</span><br><span class="line">            &lt;View /&gt;</span><br><span class="line">        &lt;/Provider&gt;</span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="渲染-Header">渲染 Header</h4>
<ol>
<li>新增 src/components/common，把舊檔案複製進去</li>
<li>引入 Header<br>
<code>import &#123; Header &#125; from './components/common';</code></li>
<li>使用 Header</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const App = () =&gt; &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;Provider store=&#123;createStore(reducers)&#125;&gt;</span><br><span class="line">            &lt;View&gt;</span><br><span class="line">                &lt;Header headerText=&quot;Tech Stack&quot; /&gt;</span><br><span class="line">            &lt;/View&gt;</span><br><span class="line">        &lt;/Provider&gt;</span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="Data-的-Library-List">Data 的 Library List</h4>
<ol>
<li>新增 src/reducers/LibraryReducer.js<br>
<code>export default () =&gt; [];</code></li>
<li>在 reducers/index.js 引入 LibraryReducer.js</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123; combineReducers &#125; from &#x27;redux&#x27;;</span><br><span class="line">import LibraryReducer from &#x27;./LibraryReducer&#x27;;</span><br><span class="line"></span><br><span class="line">export default combineReducers(&#123;</span><br><span class="line">    libraries: LibraryReducer</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>新增 src/reducers/LibraryList.json</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;&quot;id&quot;: 0,</span><br><span class="line">    &quot;title&quot;: &quot;Webpack&quot;,</span><br><span class="line">    &quot;description&quot;: &quot;Webpack is a module bundler. It packs CommonJs/AMD modules i. e. for the browser. Allows to split your codebase into multiple bundles, which can be loaded on demand.&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;&quot;id&quot;: 1,</span><br><span class="line">    &quot;title&quot;: &quot;React&quot;,</span><br><span class="line">    &quot;description&quot;: &quot;React makes it painless to create interactive UIs. Design simple views for each state in your application, and React will efficiently update and render just the right components when your data changes.&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;&quot;id&quot;: 2,</span><br><span class="line">    &quot;title&quot;: &quot;Redux&quot;,</span><br><span class="line">    &quot;description&quot;: &quot;Redux is a predictable state container for JavaScript apps. It helps you write applications that behave consistently, run in different environments (client, server, and native), and are easy to test.&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;&quot;id&quot;: 3,</span><br><span class="line">    &quot;title&quot;: &quot;React-Redux&quot;,</span><br><span class="line">    &quot;description&quot;: &quot;React-Redux is the official set of bindings between the React and Redux libraries. With this library you can keep your views and data in sync.&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;&quot;id&quot;: 4,</span><br><span class="line">    &quot;title&quot;: &quot;Lodash&quot;,</span><br><span class="line">    &quot;description&quot;: &quot;A modern JavaScript utility library delivering modularity, performance, &amp; extras. Lodash is released under the MIT license &amp; supports modern environments.&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;&quot;id&quot;: 5,</span><br><span class="line">    &quot;title&quot;: &quot;Redux-Thunk&quot;,</span><br><span class="line">    &quot;description&quot;: &quot;Redux Thunk middleware allows you to write action creators that return a function instead of an action. The thunk can be used to delay the dispatch of an action, or to dispatch only if a certain condition is met.&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;&quot;id&quot;: 6,</span><br><span class="line">    &quot;title&quot;: &quot;ESLint&quot;,</span><br><span class="line">    &quot;description&quot;: &quot;ESLint is an open source JavaScript linting utility originally created by Nicholas C. Zakas in June 2013. Code linting is a type of static analysis that is frequently used to find problematic patterns or code that doesn&#x27;t adhere to certain style guidelines.&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;&quot;id&quot;: 7,</span><br><span class="line">    &quot;title&quot;: &quot;Babel&quot;,</span><br><span class="line">    &quot;description&quot;: &quot;Babel has support for the latest version of JavaScript through syntax transformers. These plugins allow you to use new syntax, right now without waiting for browser support.&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;&quot;id&quot;: 8,</span><br><span class="line">    &quot;title&quot;: &quot;Axios&quot;,</span><br><span class="line">    &quot;description&quot;: &quot;Promise based HTTP client for the browser and node.js. With Axios, you can make XMLHttpRequests from the browser or Node with the full Promise Api.&quot;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h4 id="The-Connect-Function">The Connect Function</h4>
<ol>
<li>引入 json 的資料，然後輸出</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import data from &#x27;./LibraryList.json&#x27;;</span><br><span class="line"></span><br><span class="line">export default () =&gt; data;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>新增 src/components/LibraryList.js，在這邊有一點要注意，可以直接引入 json 來使用，但是在 redux 不能這樣用</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#x27;react&#x27;;</span><br><span class="line">import &#123; connect &#125; from &#x27;react-redux&#x27;;</span><br><span class="line"></span><br><span class="line">class LibraryList extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default connect()(LibraryList);</span><br></pre></td></tr></table></figure>
<h4 id="Connect-與-MapStateToProps">Connect 與 MapStateToProps</h4>
<ol>
<li>在 LibraryList.js 新增 mapStateToProps function</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const mapStateToProps = state =&gt; &#123;</span><br><span class="line">    return &#123; libraries: state.libraries &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>在 LibraryList 裡面 console，會看到物件和 dispatch</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">class LibraryList extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        console.log(this.props);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="用正確的方法渲染-List">用正確的方法渲染 List</h3>
<h4 id="實作-ListView">實作 ListView</h4>
<ol>
<li>引入 ListView，然後用 componentWillMount 來取得值，最後送到 ListView</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ListView &#125; from &#x27;react-native&#x27;;</span><br><span class="line"></span><br><span class="line">class LibraryList extends Component &#123;</span><br><span class="line">    componentWillMount() &#123;</span><br><span class="line">        const ds = new ListView.DataSource(&#123;</span><br><span class="line">            rowHasChanged: (r1, r2) =&gt; r1 !== r2</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        this.dataSource = ds.cloneWithRows(this.props.libraries);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    renderRow() &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;ListView</span><br><span class="line">                dataSource=&#123;this.dataSource&#125;</span><br><span class="line">                renderRow=&#123;this.renderRow&#125;</span><br><span class="line">            /&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="渲染單一的列">渲染單一的列</h4>
<ol>
<li>新增 ListItem.js</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#x27;react&#x27;;</span><br><span class="line"></span><br><span class="line">class ListItem extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default ListItem;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>在 LibraryList.js 引入 ListItem，然後放在 renderRow 裡面，並傳入 props 叫做 Library</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import ListItem from &#x27;./ListItem&#x27;;</span><br><span class="line"></span><br><span class="line">renderRow(library) &#123;</span><br><span class="line">    return &lt;ListItem library=&#123;library&#125; /&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="美化-List">美化 List</h4>
<ol>
<li>引入 CardSection，然後讓接收上一層傳過來的值並顯示它</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import &#123; CardSection &#125; from &#x27;./common&#x27;;</span><br><span class="line"></span><br><span class="line">class ListItem extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        const &#123; titleStyle &#125; = styles;</span><br><span class="line"></span><br><span class="line">        return (</span><br><span class="line">            &lt;CardSection&gt;</span><br><span class="line">                &lt;Text style=&#123;titleStyle&#125;&gt;</span><br><span class="line">                    &#123;this.props.library.title&#125;</span><br><span class="line">                &lt;/Text&gt;</span><br><span class="line">            &lt;/CardSection&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>新增樣式</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const styles = &#123;</span><br><span class="line">    titleStyle: &#123;</span><br><span class="line">        fontSize: 18,</span><br><span class="line">        paddingLeft: 15</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>在 app.js 的 View 新增 flex 1 的樣式，讓 List 可以在整頁滾動<br>
<code>&lt;View style=&#123;&#123;"&#123;&#123; flex: 1 "&#125;&#125;&#125;&#125;&gt;</code></li>
</ol>
<h4 id="創建-Selection-Reducer">創建 Selection Reducer</h4>
<ol>
<li>新增 src/reducers/SelectionReducer.js，在畫面產生的時候，預設不要選任何東西，所以送出 null</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export default () =&gt; &#123;</span><br><span class="line">    return null;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>在 reducer/index.js 把 SelectionReducer 加入</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import SelectionReducer from &#x27;./SelectionReducer&#x27;;</span><br><span class="line"></span><br><span class="line">export default combineReducers(&#123;</span><br><span class="line">    libraries: LibraryReducer,</span><br><span class="line">    selectedLibraryId: SelectionReducer</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="介紹-Action-Creator">介紹 Action Creator</h4>
<ol>
<li>在 Component 裡面用 Action Creator 呼叫 Action，Action 會去要求 Reducer 改變值</li>
<li>新增 src/actions/index.js</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export const selectLibrary = (libraryId) =&gt; &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        type: &#x27;select_library&#x27;,</span><br><span class="line">        payload: libraryId</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="呼叫-Action-Creators">呼叫 Action Creators</h4>
<ol>
<li>在 ListItem.js 引入所有 actions<br>
<code>import * as actions from '../actions';</code></li>
<li>在 ListItem.js 引入 connect，connect 的第一個參數是傳入的 props 值，目前沒有要傳東西，所以用 null，第二個參數是 actions，最後把 action 傳入 ListItem 的 component</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import &#123; connect &#125; from &#x27;react-redux&#x27;;</span><br><span class="line"></span><br><span class="line">export default connect(null, actions)(ListItem);</span><br></pre></td></tr></table></figure>
<h4 id="新增-Touchable-元件">新增 Touchable 元件</h4>
<ol>
<li>在 ListItem.js 引入 TouchableWithoutFeedback 和 View<br>
<code>import &#123; Text, TouchableWithoutFeedback, View &#125; from 'react-native';</code></li>
<li>把 TouchableWithoutFeedback 和 View 加到元件裡面，onPress 之後，使用 action</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class ListItem extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        const &#123; titleStyle &#125; = styles;</span><br><span class="line">        const &#123; id, title &#125; = this.props.library;</span><br><span class="line"></span><br><span class="line">        return (</span><br><span class="line">            &lt;TouchableWithoutFeedback</span><br><span class="line">                onPress=&#123;() =&gt; this.props.selectLibrary(id)&#125;</span><br><span class="line">            &gt;</span><br><span class="line">                &lt;View&gt;</span><br><span class="line">                    &lt;CardSection&gt;</span><br><span class="line">                        &lt;Text style=&#123;titleStyle&#125;&gt;</span><br><span class="line">                            &#123;title&#125;</span><br><span class="line">                        &lt;/Text&gt;</span><br><span class="line">                    &lt;/CardSection&gt;</span><br><span class="line">                &lt;/View&gt;</span><br><span class="line">            &lt;/TouchableWithoutFeedback&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Reducer-的規則">Reducer 的規則</h4>
<ol>
<li>修改 SelectionReducer.js，如果選到東西就回傳 id，如果沒有就回傳現在的 state</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">export default (state = null, action) =&gt; &#123;</span><br><span class="line">    switch (action.type) &#123;</span><br><span class="line">        case &#x27;select_library&#x27;:</span><br><span class="line">            return action.payload;</span><br><span class="line">        default:</span><br><span class="line">            return state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="展開列">展開列</h4>
<ol>
<li>新增 mapStateToProps 回傳 object，然後會用 props 的形式放到 component 裡面，state.selectedLibraryId 是從 reducer/index.js 裡面取得的，最後將 mapStateToProps 和 actions 放在一起，就可以比較 selectedLibraryId 和 <a target="_blank" rel="noopener" href="http://library.id">library.id</a> 是不是一樣，一樣的話就展開</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const mapStateToProps = state =&gt; &#123;</span><br><span class="line">    return &#123; selectedLibraryId: state.selectedLibraryId &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default connect(mapStateToProps, actions)(ListItem);</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>在 ListItem 的元件新增 renderDescription function 比較選擇的和本來的一不一樣，一樣就展開</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">renderDescription() &#123;</span><br><span class="line">    const &#123; library, selectedLibraryId &#125; = this.props;</span><br><span class="line"></span><br><span class="line">    if (library.id === selectedLibraryId) &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;Text&gt;&#123;library.description&#125;&lt;/Text&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>最後把 renderDescription 放到 Component 裡面</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;View&gt;</span><br><span class="line">    &lt;CardSection&gt;</span><br><span class="line">        &lt;Text style=&#123;titleStyle&#125;&gt;</span><br><span class="line">            &#123;title&#125;</span><br><span class="line">        &lt;/Text&gt;</span><br><span class="line">    &lt;/CardSection&gt;</span><br><span class="line">    &#123;this.renderDescription()&#125;</span><br><span class="line">&lt;/View&gt;</span><br></pre></td></tr></table></figure>
<h4 id="將邏輯移出-Component">將邏輯移出 Component</h4>
<ol>
<li>mapStateToProps 引入第二個參數 ownProps，它等於 this.props，所以最後可以用 expanded 簡化，它只會回傳 true 或 false</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const mapStateToProps = (state, ownProps) =&gt; &#123;</span><br><span class="line">    const expanded = state.selectedLibraryId === ownProps.library.id;</span><br><span class="line"></span><br><span class="line">    return &#123; expanded &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>修改 renderDescription</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">renderDescription() &#123;</span><br><span class="line">    const &#123; library, expanded &#125; = this.props;</span><br><span class="line"></span><br><span class="line">    if (expanded) &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;Text&gt;&#123;library.description&#125;&lt;/Text&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="動畫">動畫</h4>
<ol>
<li>在 renderDescription 加入 CardSection 讓版面更漂亮</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;CardSection&gt;</span><br><span class="line">    &lt;Text&gt;&#123;library.description&#125;&lt;/Text&gt;</span><br><span class="line">&lt;/CardSection&gt;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>引入 LayoutAnimation</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123;</span><br><span class="line">    Text,</span><br><span class="line">    TouchableWithoutFeedback,</span><br><span class="line">    View,</span><br><span class="line">    LayoutAnimation</span><br><span class="line">&#125; from &#x27;react-native&#x27;;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>在 ListItem 的 Component 加入 componentWillUpdate</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">componentWillUpdate() &#123;</span><br><span class="line">    LayoutAnimation.spring();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>流程：User 點擊 Library =&gt; 呼叫 Action Creator =&gt; Action Creator 回傳 Action，然後傳到 Reducers =&gt; 新狀態會傳到 mapstateToProps =&gt; Components 重新渲染 =&gt; View 就會更新</li>
</ol>

        </div>
        <footer class="article-footer">
            



    <a data-url="https://vincent.fishboneapps.com/2017/08/18/React-Native-%E5%BF%AB%E9%80%9F%E5%AD%B8%E7%BF%92%E8%87%AA%E6%88%91%E6%8C%91%E6%88%B0-Day6/" data-id="cl87onrhu009vtl2oeo9w3i27" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "Vincent Ting Hsuan Wang"
        },
        "headline": "React Native 快速學習自我挑戰 Day6",
        "image": "https://vincent.fishboneapps.com/images/learning/reactNative/reactnativeday6.png",
        "keywords": "React-Native",
        "genre": "Study Note",
        "datePublished": "2017-08-18",
        "dateCreated": "2017-08-18",
        "dateModified": "2022-07-27",
        "url": "https://vincent.fishboneapps.com/2017/08/18/React-Native-快速學習自我挑戰-Day6/",
        "description": "

深入了解 Redux
Redux 的基礎

建立新專案
react-native init tech_stack
JSPlaygrounds
Reducer：一個可以回傳一些資料的 function
Action：一個告訴 reducer 如何改變它的資料的物件
State：給 app 使用的資料

更多 Redux

簡易 Redux 範例

123456789101112131415161",
        "wordCount": 2691
    }
</script>

</article>

    <section id="comments">
    
      
    <div class="fb-comments" data-width="100%" data-href="https://vincent.fishboneapps.com/2017/08/18/React-Native-%E5%BF%AB%E9%80%9F%E5%AD%B8%E7%BF%92%E8%87%AA%E6%88%91%E6%8C%91%E6%88%B0-Day6/" data-num-posts="5"></div>


    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="facebook-official" href="https://www.facebook.com/twang443" target="_blank" rel="noopener">
                        <i class="icon fa fa-facebook-official"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="linkedin-square" href="https://www.linkedin.com/in/twang443" target="_blank" rel="noopener">
                        <i class="icon fa fa-linkedin-square"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="twitter" href="https://twitter.com/twang443" target="_blank" rel="noopener">
                        <i class="icon fa fa-twitter"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="instagram" href="https://www.instagram.com/twang443" target="_blank" rel="noopener">
                        <i class="icon fa fa-instagram"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/TingSyuanWang" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2017/08/20/Kubernetes-%E5%BF%AB%E9%80%9F%E5%AD%B8%E7%BF%92%E8%87%AA%E6%88%91%E6%8C%91%E6%88%B0-Day4/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">newer</strong>
        <p class="article-nav-title">
        
            Kubernetes 快速學習自我挑戰 Day4
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2017/08/17/React-Native-%E5%BF%AB%E9%80%9F%E5%AD%B8%E7%BF%92%E8%87%AA%E6%88%91%E6%8C%91%E6%88%B0-Day5/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">older</strong>
        <p class="article-nav-title">React Native 快速學習自我挑戰 Day5</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                
<div class="widget-wrap widget-list">
    <h3 class="widget-title">Catalog</h3>
    <div class="widget">
        <div id="toc" class="toc-article">
            <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%B1%E5%85%A5%E4%BA%86%E8%A7%A3-Redux"><span class="toc-number">1.</span> <span class="toc-text">深入了解 Redux</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Redux-%E7%9A%84%E5%9F%BA%E7%A4%8E"><span class="toc-number">1.1.</span> <span class="toc-text">Redux 的基礎</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A-Redux"><span class="toc-number">1.2.</span> <span class="toc-text">更多 Redux</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Application-%E6%A8%A3%E6%9D%BF"><span class="toc-number">1.3.</span> <span class="toc-text">Application 樣板</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%B2%E6%9F%93-Header"><span class="toc-number">1.4.</span> <span class="toc-text">渲染 Header</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Data-%E7%9A%84-Library-List"><span class="toc-number">1.5.</span> <span class="toc-text">Data 的 Library List</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#The-Connect-Function"><span class="toc-number">1.6.</span> <span class="toc-text">The Connect Function</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Connect-%E8%88%87-MapStateToProps"><span class="toc-number">1.7.</span> <span class="toc-text">Connect 與 MapStateToProps</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%AD%A3%E7%A2%BA%E7%9A%84%E6%96%B9%E6%B3%95%E6%B8%B2%E6%9F%93-List"><span class="toc-number">2.</span> <span class="toc-text">用正確的方法渲染 List</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%A6%E4%BD%9C-ListView"><span class="toc-number">2.1.</span> <span class="toc-text">實作 ListView</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%B2%E6%9F%93%E5%96%AE%E4%B8%80%E7%9A%84%E5%88%97"><span class="toc-number">2.2.</span> <span class="toc-text">渲染單一的列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BE%8E%E5%8C%96-List"><span class="toc-number">2.3.</span> <span class="toc-text">美化 List</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%B5%E5%BB%BA-Selection-Reducer"><span class="toc-number">2.4.</span> <span class="toc-text">創建 Selection Reducer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8B%E7%B4%B9-Action-Creator"><span class="toc-number">2.5.</span> <span class="toc-text">介紹 Action Creator</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BC%E5%8F%AB-Action-Creators"><span class="toc-number">2.6.</span> <span class="toc-text">呼叫 Action Creators</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E-Touchable-%E5%85%83%E4%BB%B6"><span class="toc-number">2.7.</span> <span class="toc-text">新增 Touchable 元件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Reducer-%E7%9A%84%E8%A6%8F%E5%89%87"><span class="toc-number">2.8.</span> <span class="toc-text">Reducer 的規則</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%95%E9%96%8B%E5%88%97"><span class="toc-number">2.9.</span> <span class="toc-text">展開列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%87%E9%82%8F%E8%BC%AF%E7%A7%BB%E5%87%BA-Component"><span class="toc-number">2.10.</span> <span class="toc-text">將邏輯移出 Component</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8B%95%E7%95%AB"><span class="toc-number">2.11.</span> <span class="toc-text">動畫</span></a></li></ol></li></ol>
        </div>
    </div>
</div>


            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/07/27/Setup-Github-GPG-key-on-Macbook-Mac-OS/" class="thumbnail">
    
    
        <span style="background-image:url(/images/gpg.jpeg)" alt="Setup Github GPG key on Macbook (Mac OS)" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Skill-Share/">Skill Share</a></p>
                            <p class="item-title"><a href="/2022/07/27/Setup-Github-GPG-key-on-Macbook-Mac-OS/" class="title">Setup Github GPG key on Macbook (Mac OS)</a></p>
                            <p class="item-date"><time datetime="2022-07-27T06:19:10.000Z" itemprop="datePublished">2022-07-27</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/07/26/Mac-%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83%E5%BB%BA%E7%BD%AE-2022/" class="thumbnail">
    
    
        <span style="background-image:url(/images/technique/MacEnvironment.jpg)" alt="Mac 開發環境建置 2022" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Skill-Share/">Skill Share</a></p>
                            <p class="item-title"><a href="/2022/07/26/Mac-%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83%E5%BB%BA%E7%BD%AE-2022/" class="title">Mac 開發環境建置 2022</a></p>
                            <p class="item-date"><time datetime="2022-07-26T14:06:57.000Z" itemprop="datePublished">2022-07-26</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/12/10/Golang-%E5%BF%AB%E9%80%9F%E5%AD%B8%E7%BF%92%E8%87%AA%E6%88%91%E6%8C%91%E6%88%B0-Day14/" class="thumbnail">
    
    
        <span style="background-image:url(/images/learning/golang/GolangDay14.jpg)" alt="Golang 快速學習自我挑戰 Day14" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Study-Note/">Study Note</a></p>
                            <p class="item-title"><a href="/2021/12/10/Golang-%E5%BF%AB%E9%80%9F%E5%AD%B8%E7%BF%92%E8%87%AA%E6%88%91%E6%8C%91%E6%88%B0-Day14/" class="title">Golang 快速學習自我挑戰 Day14</a></p>
                            <p class="item-date"><time datetime="2021-12-10T13:20:08.000Z" itemprop="datePublished">2021-12-10</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/12/04/C-Learning-Journey-Day12/" class="thumbnail">
    
    
        <span style="background-image:url(/images/learning/cplusplus/CPlusPlusDay12.jpg)" alt="C++ Learning Journey Day12" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Study-Note/">Study Note</a></p>
                            <p class="item-title"><a href="/2021/12/04/C-Learning-Journey-Day12/" class="title">C++ Learning Journey Day12</a></p>
                            <p class="item-date"><time datetime="2021-12-04T07:43:26.000Z" itemprop="datePublished">2021-12-04</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/12/03/C-Learning-Journey-Day11/" class="thumbnail">
    
    
        <span style="background-image:url(/images/learning/cplusplus/CPlusPlusDay11.jpg)" alt="C++ Learning Journey Day11" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Study-Note/">Study Note</a></p>
                            <p class="item-title"><a href="/2021/12/03/C-Learning-Journey-Day11/" class="title">C++ Learning Journey Day11</a></p>
                            <p class="item-date"><time datetime="2021-12-03T12:46:32.000Z" itemprop="datePublished">2021-12-03</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/English-Learning/">English Learning</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Reading-Note/">Reading Note</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Skill-Share/">Skill Share</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Study-Note/">Study Note</a><span class="category-list-count">134</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a><span class="archive-list-count">7</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">tags</h3>
        <div class="widget">
            <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C++</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/English-Grammer/" rel="tag">English Grammer</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/English-Writing/" rel="tag">English Writing</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang/" rel="tag">Golang</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Illustrator/" rel="tag">Illustrator</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/" rel="tag">Jenkins</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kubernetes/" rel="tag">Kubernetes</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Laravel/" rel="tag">Laravel</a><span class="tag-list-count">22</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/" rel="tag">Mac</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/" rel="tag">Nodejs</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nutrition/" rel="tag">Nutrition</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/" rel="tag">PHP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Productivity/" rel="tag">Productivity</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-Native/" rel="tag">React-Native</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UI/" rel="tag">UI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Weight-Loss/" rel="tag">Weight Loss</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WordPress/" rel="tag">WordPress</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/C/" style="font-size: 16.36px;">C++</a> <a href="/tags/CSS/" style="font-size: 13.64px;">CSS</a> <a href="/tags/Docker/" style="font-size: 19.09px;">Docker</a> <a href="/tags/English-Grammer/" style="font-size: 11.82px;">English Grammer</a> <a href="/tags/English-Writing/" style="font-size: 10.91px;">English Writing</a> <a href="/tags/Git/" style="font-size: 10.91px;">Git</a> <a href="/tags/Golang/" style="font-size: 18.18px;">Golang</a> <a href="/tags/HTML/" style="font-size: 13.64px;">HTML</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/Illustrator/" style="font-size: 10px;">Illustrator</a> <a href="/tags/Java/" style="font-size: 18.18px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Jenkins/" style="font-size: 10px;">Jenkins</a> <a href="/tags/Kubernetes/" style="font-size: 14.55px;">Kubernetes</a> <a href="/tags/Laravel/" style="font-size: 20px;">Laravel</a> <a href="/tags/Mac/" style="font-size: 11.82px;">Mac</a> <a href="/tags/Nodejs/" style="font-size: 18.18px;">Nodejs</a> <a href="/tags/Nutrition/" style="font-size: 12.73px;">Nutrition</a> <a href="/tags/PHP/" style="font-size: 10px;">PHP</a> <a href="/tags/Productivity/" style="font-size: 10px;">Productivity</a> <a href="/tags/React/" style="font-size: 17.27px;">React</a> <a href="/tags/React-Native/" style="font-size: 15.45px;">React-Native</a> <a href="/tags/UI/" style="font-size: 10px;">UI</a> <a href="/tags/Weight-Loss/" style="font-size: 12.73px;">Weight Loss</a> <a href="/tags/WordPress/" style="font-size: 10px;">WordPress</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a target="_blank" rel="noopener" href="https://kalasearch.cn">最優雅的搜尋引擎-卡拉搜索</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2016-2022 Vincent Ting Hsuan Wang</p>
                
                <p>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="https://github.com/ppoffice" target="_blank">PPOffice</a></p>
                
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

    </div>
    
    
<script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en/sdk.js#xfbml=1&version=v9.0&appId=1958612367696881";
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





    
        
<script src="/libs/lightgallery/js/lightgallery.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-pager.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-zoom.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-hash.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-share.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-video.min.js"></script>

    
    
        
<script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>

    
    
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
        </script>
        
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML.js"></script>

    

    
    
    



<!-- Custom Scripts -->

<script src="/js/main.js"></script>


</body>
</html>
